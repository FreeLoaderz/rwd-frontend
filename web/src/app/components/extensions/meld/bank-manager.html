<section #meld id="meld" class="extension-section">
    <div class="sidebyside">
        <div class="meld-left-grid">
            <img class="meld-img-logo" src="/assets/extensions/meld/meld-logo.png"
                 title="Single click to go to Meld, double click to toggle full screen" (click)="toggleFullScreen()">
        </div>
        <div class="meld-right-grid" style="display: block !important">
            <span class="meld-title mb-5">MELD BANK MANAGER MINTING</span>
            <ul class="meld-ul">
                <li style="display: flex" class="mb-5">
                    <div style="display: block !important">
                        <button pButton type="button" label="1"
                                class="p-button-rounded p-button-outlined meld-fake-button me-5"
                                style="pointer-events: none !important"></button>
                    </div>
                    <div *ngIf="!walletLoaded" style="display: block !important">
                        <button pButton class="p-button-rounded p-button-text no-ul meld-action-button"
                           [title]="'Connect your Meld ISPO or a payment Wallet'"
                           (click)="connectWallet()" label="CONNECT WALLET" [loading]="walletLoading" iconPos="right">
                        </button>
                        <p style="font-size: small">Connect the wallet you used to participate in the MELD ISPO or
                            simply connect a payment wallet.</p>
                    </div>
                    <div *ngIf="walletLoaded" style="display: block !important">
                        <button pButton class="p-button-rounded p-button-text no-ul meld-connected-button"
                           [title]="'Connected'" style="max-width: 350px" label="CONNECTED {{shortWalletAddress}}"
                           (click)="connectWallet()" icon="fa-solid fa-check" iconPos="right">
                        </button>
                    </div>
                </li>
                <li *ngIf="walletLoaded && checkingVerification" style="display: flex" class="mt-5">
                    <div style="display: block !important">
                        <button pButton type="button" label="2"
                                class="p-button-rounded p-button-outlined meld-fake-button me-5"
                                style="pointer-events: none !important"></button>
                    </div>
                    <div style="display: block !important">
                        <button pButton class="p-button-rounded p-button-text no-ul meld-action-button"
                                [title]="'Verifying your wallet against the Meld ISPO list'"
                                label="VERIFYING WALLET" [loading]="checkingVerification" iconPos="right">
                        </button>
                    </div>
                </li>
                <li *ngIf="walletLoaded && !checkingVerification && requiresVerification" style="display: flex" class="mt-5">
                    <div style="display: block !important">
                        <button pButton type="button" label="2"
                                class="p-button-rounded p-button-outlined meld-fake-button me-5"
                                style="pointer-events: none !important"></button>
                    </div>
                    <div style="display: block !important">
                        <input class="p-button-rounded p-button-outlined no-ul meld-input"
                               [ngClass]="invalidAddress ? 'invalid-error' : ''"
                               (keyup)="checkAddress()" (change)="checkAddress()"
                               [ngModel]="manualAddress"
                               [title]="'Enter your Meld ISPO wallet address'"
                        [placeholder]="'Enter your Meld ISPO wallet address'"/>
                        <p style="font-size: small">The connected wallet is not a registered wallet for the Meld ISPO.</p>
                    </div>
                </li>
                <li *ngIf="walletVerified" style="display: flex" class="mt-5">
                    <div style="display: block !important">
                        <button pButton type="button" label="2"
                                class="p-button-rounded p-button-outlined meld-fake-button me-5"
                                style="pointer-events: none !important"></button>
                    </div>
                    <div style="display: block !important">
                        <button pButton class="p-button-rounded p-button-text no-ul meld-connected-button"
                                [title]="'Wallet verified!'" style="max-width: 350px" label="VERIFIED"
                                icon="fa-solid fa-check" iconPos="right">
                        </button>
                    </div>
                </li>
                <li *ngIf="walletVerified" style="display: flex" class="mt-5">
                    <div style="display: block !important">
                        <button pButton type="button" label="3"
                                class="p-button-rounded p-button-outlined meld-fake-button me-5"
                                style="pointer-events: none !important"></button>
                    </div>
                    <div style="display: block !important">
                        <strong>2.2 ADA</strong>
                        <span style="font-size: small">Minting fee to be paid by the connected wallet.</span>
                    </div>
                </li>
                <li *ngIf="walletVerified" style="display: flex" class="mb-5">
                    <div style="display: block !important">
                        <button pButton type="button" label="4"
                                class="p-button-rounded p-button-outlined meld-fake-button me-5"
                                style="pointer-events: none !important"></button>
                    </div>
                    <div style="display: block !important">
                        <a pButton class="p-button-rounded p-button-outlined no-ul meld-action-button"
                           [title]="'Mint your Bank Manager NFT!'" style="max-width: 350px"
                           (click)="mintBankManager()" [loading]="isMinting">
                            <strong>MINT BANK MANAGER NFT</strong>
                        </a>
                        <span style="font-size: small"></span>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    <div>
        <img class="meld-img-bank-mgr" src="/assets/extensions/meld/bank-manager-q.png">
        <img class="meld-img-smartclaimz" title="SmartClaimz" src="/assets/powered-by-smartclaimz.png"
             (click)="routeSmartClaimz()">
    </div>
</section>